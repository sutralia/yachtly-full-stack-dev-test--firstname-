<!DOCTYPE html>
<html ng-app="app">
  <head>
    <title><%= title %></title>
    <link rel="stylesheet" type="text/css" href="/stylesheets/style.css">
    <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/2.3.2/css/bootstrap.min.css">
    <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/limonte-sweetalert2/7.28.4/sweetalert2.min.css">
  </head>
  <body>
      <div id="wrapper">
          <div id="header">
              <div class="logo"></div>
              <div style="margin: auto; width: 80%;">
                  <% if (status) { %>
                      <input type="hidden" name="status" id="status" value="<%= status %>">
                  <% } else { %>
                      <input type="hidden" name="status" id="status" value="2">
                  <% } %>

                  <% if (typeof data !== 'undefined') { %>                 
                  <form class="form-horizontal" method="POST" action="/editUser/<%= data.userID %>">
                    <div class="control-group">
                      <label class="control-label" for="inputName">Name</label>
                      <div class="controls">
                        <input type="text" id="inputName" name="name" placeholder="Name" value="<%= data.name %>">
                      </div>
                    </div>
                    <div class="control-group">
                      <label class="control-label" for="inputEmail">Email</label>
                      <div class="controls">
                        <input type="text" id="inputEmail" name="email" placeholder="Email" value="<%= data.email %>">
                      </div>
                    </div>
                    <div class="control-group">
                      <label class="control-label" for="inputPhoneNumber">Phone Number</label>
                      <div class="controls">
                        <input type="text" id="inputPhoneNumber" name="phoneNumber" placeholder="Phone Number" value="<%= data.phoneNumber %>">
                      </div>
                    </div>
                    <div class="control-group">
                      <label class="control-label" for="inputAddress">Address</label>
                      <div class="controls">
                        <input type="text" id="inputAddress" placeholder="Address" name="address" value="<%= data.address %>">
                      </div>
                    </div>
                    <div style="width: 40px; margin: auto;">
                        <button type="submit" class="btn btn-large btn-primary">Save</button>
                    </div>
                    <% } else { %>
                       <form class="form-horizontal" method="POST" action="/adduser">
                    <div class="control-group">
                      <label class="control-label" for="inputName">Name</label>
                      <div class="controls">
                        <input type="text" id="inputName" name="name" placeholder="Name" value="">
                      </div>
                    </div>
                    <div class="control-group">
                      <label class="control-label" for="inputEmail">Email</label>
                      <div class="controls">
                        <input type="text" id="inputEmail" name="email" placeholder="Email" value="">
                      </div>
                    </div>
                    <div class="control-group">
                      <label class="control-label" for="inputPhoneNumber">Phone Number</label>
                      <div class="controls">
                        <input type="text" id="inputPhoneNumber" name="phoneNumber" placeholder="Phone Number" value="">
                      </div>
                    </div>
                    <div class="control-group">
                      <label class="control-label" for="inputAddress">Address</label>
                      <div class="controls">
                        <input type="text" id="inputAddress" placeholder="Address" name="address" value="">
                      </div>
                    </div>
                    <div style="width: 40px; margin: auto;">
                        <button type="submit" class="btn btn-large btn-primary">Save</button>
                    </div>
                    <% } %>
                    
              </div>
          </div>
      <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
      <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/limonte-sweetalert2/7.28.4/sweetalert2.min.js"></script>
      <script type="text/javascript">
          $( document ).ready(function() {
              console.log( "ready!" );
              let status = $('#status').val();
              console.log(status);
              if (status === '1') {
                  console.log(status);
                  swal({
                    type: 'success',
                    title: 'Your data has been saved',
                    showConfirmButton: false,
                    timer: 1500
                  })
              } else if (status === '0') {
                  swal({
                    type: 'error',
                    title: 'Oops...',
                    text: 'Something went wrong!',
                  })
              }
          });
      </script>
  </body>
</html>
